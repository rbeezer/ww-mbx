<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE webwork SYSTEM "../../schema/dtd/webwork.dtd">

<!-- ********************************************************************* -->
<!-- Copyright 2015                                                        -->
<!-- Robert A. Beezer, Michael Gage, Geoff Goehle, Alex Jordan             -->
<!--                                                                       -->
<!-- This file is part of MathBook XML.                                    -->
<!--                                                                       -->
<!-- MathBook XML is free software: you can redistribute it and/or modify  -->
<!-- it under the terms of the GNU General Public License as published by  -->
<!-- the Free Software Foundation, either version 2 or version 3 of the    -->
<!-- License (at your option).                                             -->
<!--                                                                       -->
<!-- MathBook XML is distributed in the hope that it will be useful,       -->
<!-- but WITHOUT ANY WARRANTY; without even the implied warranty of        -->
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         -->
<!-- GNU General Public License for more details.                          -->
<!--                                                                       -->
<!-- You should have received a copy of the GNU General Public License     -->
<!-- along with MathBook XML.  If not, see <http://www.gnu.org/licenses/>. -->
<!-- ********************************************************************* -->

<!-- This is a MathBook XML "article" designed to look      -->
<!-- like a chapter of a book.  So it has several sections, -->
<!-- each with mathematical content and WeBWorK problems.   -->

<mathbook>
    <!-- Other languages can be used to internationalize parts of a document -->
    <!-- <mathbook xml:lang="pt-BR"> -->

    <!-- "docinfo" is like metadata, it is necessary technical -->
    <!-- information which a reader mostly will never see. -->

    <docinfo>

        <!-- In the HTML version there is room for a   -->
        <!-- picture or logo in the upper left corner. -->
        <brandlogo url="http://webwork.maa.org/" source="images/webwork-logo.png" />

        <!--
        TeX/LaTeX macros can be written in the usual way.
        Whitespace and line breaks are irrelevant here.
        These are "write once, use everywhere".
        -->
        <!-- requires each to be on its own line, and to use the structure \newcommand{<name>}{<command>} -->
        <macros>
        \newcommand{\definiteintegral}[4]{\int_{#1}^{#2}\,#3\,d#4}
        \newcommand{\indefiniteintegral}[2]{\int#1\,d#2}
        </macros>

        <!-- An initialism is useful sometimes -->
        <initialism>WWSC</initialism>
        <!--
        With a <feedback> element, in the HTML version, you get a button
        for reporting typos and errors.  You might link to a Google Docs
        spreadsheet or something similar.  Default is to get a button
        labeled "Feedback", which will be localized to your target language.
        You can override this with some text of your choosing, but then you
        lose the localization feature.
        -->
        <feedback>
            <url>not-implemented.html</url>
             <!-- <text>My Button Text</text>  -->
        </feedback>
    </docinfo>

    <article xml:id="sample-ww-chapter">
        <title>Integrating <wbwk /> into Textbooks</title>
        <subtitle>Sample Exercises</subtitle>

        <frontmatter xml:id="index">

            <!-- Items typically at the top of the first page of an article -->
            <titlepage>
               <!-- There can be several authors here -->
                <author>
                    <personname>Robert Beezer</personname>
                    <department>Department of Mathematics and Computer Science</department>
                    <!-- Use "break" tag anywhere for forced line break -->
                    <institution>University of Puget Sound<br />Tacoma, Washington, USA</institution>
                    <email>beezer@pugetsound.edu</email>
                </author>

                <author>
                    <personname>Alex Jordan</personname>
                    <department>Department of Mathematics</department>
                    <!-- Use "break" tag anywhere for forced line break -->
                    <institution>Portland Community College<br />Portland, Oregon, USA</institution>
                    <email>alex.jordan@pcc.edu</email>
                </author>

                <!-- Can set date manually or use the "today" element -->
                <date><today /></date>

            </titlepage>


            <abstract>
                <p>This is a sample of integrating <wbwk /> homework problems into content authored with MathBook XML.  While technically an example of MathBook's <c>article</c> format, it is intended to closely resemble a (first) chapter of a MathBook <c>book</c> that is divided into sections.</p>
                <p>This work was funded with grants from <url href="http://openoregon.org/">OpenOregon</url> and the <url href="http://pugetsound.edu">University of Puget Sound</url>.</p>
            </abstract>

        </frontmatter>

        <section>
            <title>Arithmetic</title>

            <p>Some questions with quantitative answers.</p>

            <exercise>
                <title>Adding Single-Digit Integers</title>

                <statement>
                    <p>A simple, but functional example to begin with. If you were just learning how to add, you can test yourself here.</p>
                </statement>

                <webwork xml:id="integer-addition">
                    <title>Integer Addition</title>

                    <setup>
                        <var name="$a">
                            <static>5</static>
                        </var>
                        <var name="$b">
                            <static>8</static>
                        </var>
                        <var name="$c" category="integer">
                            <static>13</static>
                        </var>

                        <pg-code>
                            $a = Compute(random(1, 9, 1));
                            $b = Compute(random(1, 9, 1));
                            $c = $a + $b;
                        </pg-code>
                    </setup>

                    <statement>
                        <p>Compute the sum of <m><var name="$a" /></m> and <m><var name="$b" /></m>:<br /><m><var name="$a" /> + <var name="$b" /> =</m> <answer var="$c" width="2" /></p>
                    </statement>

                    <solution>
                        <p><m><var name="$a" /> + <var name="$b" /> = <var name="$c" /></m>.</p>
                    </solution>
                </webwork>
            </exercise>

            <exercise>
                <title>Declaring a Problem Seed</title>

                <statement>
                    <p>You can also declare a <c>seed</c> to specify a different random version of any problem that has randomization.</p>
                </statement>

                <webwork xml:id="integer-addition-with-seed" seed="510">
                    <title>Integer Addition</title>

                    <setup>
                        <var name="$a">
                            <static>2</static>
                        </var>
                        <var name="$b">
                            <static>3</static>
                        </var>
                        <var name="$c" category="integer">
                            <static>5</static>
                        </var>

                        <pg-code>
                            $a = Compute(random(1, 9, 1));
                            $b = Compute(random(1, 9, 1));
                            $c = $a + $b;
                        </pg-code>
                    </setup>

                    <statement>
                        <p>Compute the sum of <m><var name="$a" /></m> and <m><var name="$b" /></m>:<br /><m><var name="$a" /> + <var name="$b" /> =</m> <answer var="$c" width="2" /></p>
                    </statement>

                    <solution>
                        <p><m><var name="$a" /> + <var name="$b" /> = <var name="$c" /></m>.</p>
                    </solution>
                </webwork>
            </exercise>


            <exercise>
                <title>Special Answer Checking</title>

                <statement>
                    <p>In the following, try entering wrong answers, including an answer where you just repeat the statment without simplification, and another where you multiply the two exponents (instead of adding them, which would be correct.)</p>
                </statement>

                <webwork>
                    <title>Multiplication with Exponents</title>
                    <macros>
                        <macro>MathObjects.pl</macro>                <!-- Ignored, since MathObject.pl included automatically -->
                        <macro>contextLimitedPolynomial.pl</macro>
                        <macro>contextLimitedPolynomial.pl</macro>   <!-- Ignored, since already included -->
                        <macro>PGcourse.pl</macro>                   <!-- Ignored, since PGcourse.pl included automatically -->
                    </macros>

                    <setup>
                        <var name="$a">
                            <static>5</static>
                        </var>
                        <var name="$b">
                            <static>8</static>
                        </var>
                        <var name="$c">
                            <static>13</static>
                        </var>
                        <var name="$expression">
                            <static>x^5\cdot x^8</static>
                        </var>
                        <var name="$answer" category="formula">
                            <static>x^{13}</static>
                        </var>

                        <pg-code>
                            $a = Compute(random(1, 9, 1));
                            $b = Compute(random(1, 9, 1));
                            $c = $a + $b;
                            $expression = Formula("x^($a)*x^($b)");

                            Context("LimitedPolynomial-Strict");
                            # custom error message
                            Context()->{error}{msg}{"A variable can appear only once in each term of a polynomial"}
                                = "Your answer must be fully simplified";

                            $answer = Formula("x^($c)");
                            $product = $a*$b;
                            $evaluator = $answer->cmp()->withPostFilter(AnswerHints(
                                [Compute("x^($product)")] =>
                                "When multiplying terms with the same base, you do not multiply the exponents."));
                        </pg-code>
                    </setup>

                    <statement>
                        <p>Use the properties of exponents to simplify <m><var name="$expression"/></m>.</p>

                        <p halign="center"><m><var name="$expression"/>=</m><answer var="$answer" evaluator="$evaluator" width="8"/></p>

                    </statement>

                    <solution>
                        <p>We <em>add</em> the exponents as follows:<md>
                        <mrow>x^{<var name="$a"/>}\cdot x^{<var name="$b"/>}&amp;=x^{<var name="$a"/>+<var name="$b"/>}</mrow>
                        <mrow>&amp;=x^{<var name="$c"/>}</mrow>
                        </md></p>
                    </solution>
                </webwork>
            </exercise>

            <exercise>
                <title>Using Hints</title>
                <statement>
                    <p>Hints can be inserted for exercises. Whether a hint is visible depends on the value of <c>$showHint</c> in <c>PGcourse.pl</c> in the <wbwk /> course that is hosting these exercises.</p>
                </statement>

                <webwork>
                    <title>Multiplication with Exponents</title>
                    <macros>
                        <macro>contextLimitedRadical.pl</macro>
                    </macros>

                    <setup>
                        <var name="$a">
                            <static>5</static>
                        </var>
                        <var name="$b">
                            <static>3</static>
                        </var>
                        <var name="$c">
                            <static>45</static>
                        </var>
                        <var name="$expression">
                            <static>\sqrt{45}</static>
                        </var>
                        <var name="$answer" category="number">
                            <static>3\sqrt{5}</static>
                        </var>

                        <pg-code>
                            do {
                                $a = Compute(list_random(2,3,5,6));
                                $b = Compute(random(1, 5, 1));
                               } until (gcd($a,$b) == 1);
                            $c = $a * $b**2;
                            Context()->flags->set(reduceConstantFunctions=>0);
                            $expression = Formula("sqrt($c)");

                            Context("LimitedRadical");

                            $answer = Formula("$b sqrt($a)");
                        </pg-code>
                    </setup>

                    <statement>
                        <p>Simplify the expression <m><var name="$expression"/></m>.</p>

                        <p halign="center"><m><var name="$expression"/>=</m><answer var="$answer" width="10"/></p>
                    </statement>

                    <hint>
                        <p>Factor the number inside the radical.</p>
                    </hint>

                    <solution>
                        <p><me><var name="$expression"/>=\sqrt{<var name="$b"/>^2<var name="$a"/>}=<var name="$b"/>\sqrt{<var name="$a"/>}</me></p>
                    </solution>
                </webwork>
            </exercise>

        </section>

        <section>
            <title>The Quadratic Formula</title>

            <p>The next theorem gives us a formula for the solutions of a second-degree polynomial equation. Note how the <wbwk /> problem references the theorem. This is a key feature to integrating <wbwk /> with MathBook XML.</p>

            <theorem xml:id="theorem-quadratic-formula">
                <title>Quadratic Formula</title>

                <statement>
                    <p>Given the second-degree polynomial equation <m>ax^2 + bx + c = 0</m>, where <m>a\neq0</m>, solutions are given by <me>x = \frac{-b\pm\sqrt{b^2-4ac}}{2a}.</me></p>
                </statement>
                <proof>
                    <p><md>
                    <mrow>ax^2 + bx + c &amp;= 0</mrow>
                    <mrow>ax^2 + bx &amp;= -c</mrow>
                    <mrow>4ax^2 + 4bx &amp;= -4c</mrow>
                    <mrow>4ax^2 + 4bx + b^2 &amp;= b^2 - 4ac</mrow>
                    <mrow>(2ax + b)^2 &amp;= b^2 - 4ac</mrow>
                    <mrow>2ax + b &amp;=\pm\sqrt{b^2 - 4ac}</mrow>
                    <mrow>2ax &amp;=-b\pm\sqrt{b^2 - 4ac}</mrow>
                    <mrow>x &amp;=\frac{-b\pm\sqrt{b^2 - 4ac}}{2a}</mrow>
                    </md></p>
                </proof>
            </theorem>

            <exercise>
                <title>Solving Quadratic Equations</title>

                <webwork xml:id="quadratic-equation" context="numeric" showpartialcorrect="yes" type="scaffold" >

                    <macros>
                        <macro>parserMultiAnswer.pl</macro>
                    </macros>

                    <setup>
                        <var name="$a">
                            <static>2</static>
                        </var>
                        <var name="$b">
                            <static>1</static>
                        </var>
                        <var name="$c">
                            <static>-6</static>
                        </var>
                        <var name="$x">
                            <static>x</static>
                        </var>
                        <var name="$quadratic">
                            <static>2x^2 + x - 6</static>
                        </var>
                        <var name="$x1">
                            <static>1.5</static>
                        </var>
                        <var name="$x2">
                            <static>-2</static>
                        </var>

                        <var name="$multians1">
                            <static>1.5, 2</static>
                        </var>

                        <!-- TODO: move out context shift -->
                        <pg-code>
                        Context()->variables->are(x => 'Real');

                        $a = Compute(random(2,9,1));
                        $c = Compute(random(1,9,1));
                        $b = Compute(random(2,6,1));
                        if ($a*$c > 0) {$b += floor(sqrt(4*$a*$c))}
                        $quadratic = Formula("$a x^2 + $b x + $c");
                        $x1 = (-$b + sqrt($b**2-4*$a*$c))/(2*$a);
                        $x2 = (-$b - sqrt($b**2-4*$a*$c))/(2*$a);

                        $multians1 = MultiAnswer($x1,$x2)->with(
                            singleResult => 0,
                            allowBlankAnswers => 1,
                            checker => sub {
                                my ($correct,$student,$self) = @_;
                                my ($s1, $s2) = @{$student};
                                my ($c1, $c2) = @{$correct};

                                return (1,1) if ($c1 == $s1 and $c2 == $s2) or
                                                ($c1 == $s2 and $c2 == $s1);
                                return (1,0) if $c1 == $s1 or $c2 == $s1;
                                return (0,1) if $c1 == $s2 or $c2 == $s2;
                                return (0,0);
                             }
                          );
                        </pg-code>
                    </setup>

                    <platform>
                        <title>Part 1: Identify the coefficients</title>

                        <statement>
                            <p>Consider the quadratic equation given by <me><var name="$quadratic" /> = 0\text{.}</me>  First, identify the coefficients for the quadratic equation using the standard form from <xref ref="theorem-quadratic-formula" autoname="yes" />: <m>ax^2 + bx + c = 0</m>:</p>

                            <p halign='center'><m>a=</m> <answer var="$a" width="4" />, <m>b=</m> <answer var="$b" width="4" />, <m>c=</m> <answer var="$c" width="4" /></p>
                        </statement>

                        <solution>
                            <p> Take the coefficient of <m>x^2</m> for the value of <m>a</m>, the coefficient of <m>x</m> for <m>b</m>, and the constant for <m>c</m>.  <em>In this case</em>, they are <m>a = <var name="$a" /></m>, <m>b = <var name="$b" /></m>, <m>c = <var name="$c" /></m>.</p>
                        </solution>
                    </platform>

                    <platform>
                        <title>Part 2: Solve using the quadratic formula</title>

                        <statement>
                            <p>Using the quadratic formula, solve <m><var name="$quadratic"/>=0</m>.</p>
                            <p halign='center'><m>x=</m> <answer var="$multians1" width="10"/> or <m>x=</m> <answer var="$multians1" width="10"/></p>
                        </statement>

                        <solution>
                            <p>Recall that the quadratic formula is given in <xref ref="theorem-quadratic-formula" autoname="yes" />.</p>

                            <p>You already identified <m>a = <var name="$a"/></m>, <m>b = <var name="$b"/></m>, and <m>c = <var name="$c"/></m>, so the results are: <me>x = {-<var name="$b"/> + \sqrt{<var name="$b"/>^2 - 4(<var name="$a"/>)(<var name="$c"/>)} \over 2(<var name="$a"/>)} \approx <var name="$x1"/></me> or <me>x = {-<var name="$b"/> - \sqrt{<var name="$b"/>^2 - 4(<var name="$a"/>)(<var name="$c"/>)} \over 2(<var name="$a"/>)} \approx <var name="$x2"/></me></p>
                        </solution>

                    </platform>
                </webwork>
            </exercise>
        </section>

        <section>
            <title>Open Problem Library</title>

            <paragraphs>
                <title>Implementation Note</title>

                <p>The <url href="http://webwork.maa.org/wiki/Open_Problem_Library">Open Problem Library</url> (OPL) is a repository of curated <wbwk /> problems. At last count it had something like 30,000 problems, searchable by topic.</p>

                <p>Most of the problems in this sample chapter have their source authored within the same document as the narrative.  However the problems in this section are from the OPL and elsewhere on the server that is hosting the <wbwk /> caclulations.  For HTML output we can connect to the server and render the problem here in an interactive fashion.  For print/PDF we use the <c>mbx</c> script to connect to the server to produce the LaTeX code for the problem.  We can use the <c>exercise.text.*</c> switches to control which parts of the problem (statements, solutions, hints) are incorporated.</p>

                <p>Problems do not have to be in the OPL to reside on a server; any problem that is accessbile from the <wbwk /> course which is hosting the <wbwk /> computation may be used this way.</p>

            </paragraphs>

            <exercise xml:id="function-or-not">
                <title>Functions or Not</title>

                <webwork source="BasicAlgebra/FunctionBasics/FunctionOrNotByGraph10.pg" seed="8435" height="750"/>
            </exercise>

            <exercise xml:id="two-variable-inequality">
                <title>Grandpa's Cat</title>
                <p>Not all problems that come from outside of the MBX source will have been written to fit into MBX space, as this example illustrates. So an author should be careful using problems that originate from the <wbwk /> server.</p>

                <webwork source="BasicAlgebra/EquationsAndInequalitiesInTwoVariables/GraphTwoVariableInequality110.pg" height="750"/>
            </exercise>

            <exercise xml:id="strictly-testing">
                <title>A Mock Multi-Part <wbwk /> Question</title>

                <statement>
                    <p>This problem has two problem statements, two solutions, each with a graphic (that are all the same), for testing purposes.</p>
                </statement>

                <webwork source="local/testing.pg" height="750"/>
            </exercise>

        </section>

        <section>
            <title>Antidifferentiation</title>

            <p>The derivative, and antiderivative, of a function can be understood through study of their graphical relationships.</p>

            <definition xml:id="definition-antiderivative">
                <title>Antiderivative of a Function</title>

                <statement>
                    <p>Suppose that <m>f(x)</m> and <m>F(x)</m> are two functions such that <me>F^\prime(x) = f(x).</me>  Then we say <m>F</m> is an <term>antiderivative</term> of <m>f</m>.</p>
                </statement>
            </definition>

            <p>The Fundamental Theorem of Calculus in one of the high points of a course in single-variable course.</p>

            <theorem xml:id="theorem-FTC">
                <title>The Fundamental Theorem of Calculus</title>
                <statement><index><main>Fundamental Theorem of Calculus</main></index>
                    <p>If <m>f(x)</m> is continuous, and the derivative of <m>F(x)</m> is <m>f(x)</m>, then <me>\definiteintegral{a}{b}{f(x)}{x}=F(b)-F(a)</me></p>
                </statement>
                <proof>
                    <p>Left to the reader.</p>
                </proof>
            </theorem>

            <p>We state an equivalent version of the FTC, which is less-suited for computation, but which perhaps is a more interesting theoretical statement.</p>

            <corollary xml:id="corollary-FTC-derivative">
                <statement>
                    <p>Suppose <m>f(x)</m> is a continuous function.  Then <men xml:id="equation-alternate-FTC">\frac{d}{dx}\definiteintegral{a}{x}{f(t)}{t}=f(x)</men></p>
                </statement>
                <todo>Should equation references come with parentheses?</todo>
                <proof xml:id="proof-FTC-corollary">
                    <p>We simply take the indicated derivative, applying Theorem<nbsp /><xref ref="theorem-FTC" /> at <xref ref="equation-use-FTC" />.</p>
                    <mdn>
                        <mrow xml:id="equation-use-FTC">\frac{d}{dx}\definiteintegral{a}{x}{f(t)}{t}&amp;=\frac{d}{dx}\left(F(x)-F(a)\right)</mrow>
                        <mrow number="no">&amp;=\frac{d}{dx}F(x)-\frac{d}{dx}F(a)</mrow>
                        <mrow>&amp;=f(x)-0 = f(x)</mrow>
                    </mdn>
                </proof>
            </corollary>


            <exercises>
                <title><wbwk /> Exercises</title>

                <p>This first problem is coming from the <wbwk /> Open problem Library. One implication of this is that we might want to provide some commentary that connects the problem to the text.</p>

                <exercise xml:id="ww-graphical-antiderivatives">
                    <title>Graphical Antiderivatives</title>

                    <statement>
                        <p>Consult <xref ref="definition-antiderivative" autoname="yes" /> and the <xref ref="theorem-FTC" autoname="title" /> to assist you with the following problem.</p>
                    </statement>

                    <webwork source="Library/Rochester/setIntegrals4FTC/S05.03.FundThmCalc.PTP01.pg" />
                </exercise>

                <exercise xml:id="ww-discuss-always-antiderivative">
                    <title>Every Continuous Function has an Antiderivative</title>

                    <statement>
                        <p><wbwk /> problems can be written to allow open-ended essay responses meant to be assessed later by the instructor. For anonymous access, no text field is provided. But if this problem were used within <wbwk /> as part of a homework set, users could submit an answer.</p>
                    </statement>

                    <webwork >
                        <statement>
                            <p>Explain how we can use <xref ref="corollary-FTC-derivative" autoname="yes" /> to say that every continuous function <em>always</em> has a derivative. (And we will demonstrate here that you can use a  macro from <c>docinfo</c>: <m>\definiteintegral{1}{2}{\frac{1}{x}}{x}=\ln(2)</m>. It will work in the <wbwk /> problem, regardelss of whether you are using images, MathJax, or hardcopy.)</p>
                            <answer format="essay" />
                        </statement>
                    </webwork>
                </exercise>

                <exercise xml:id="ww-discuss-inverse-processes">
                    <title>Inverse Processes</title>

                    <webwork >
                        <statement>
                            <p><q>Differentiation and integration are inverse processes.</q>  Cite <alert>specific results</alert> from this section in an explanation of how they justify this (somewhat imprecise) claim.</p>
                            <answer format="essay" width="40"/>
                        </statement>
                    </webwork>
                </exercise>

            </exercises>
        </section>

        <section>
            <title>PGML Formatting Calisthenics</title>

            <p>This section has one exercise, designed to test various PGML formatting rules in an exercise with no purpose.</p>

            <exercise xml:id="ww-PGML-format">
                <title>PGML Formatting</title>

                <webwork >
                    <statement>
                        <p>Smart double quotes: <q>Life is about making an impact, not making an income.</q></p>
                        <p>Smart single quotes: <sq>Whatever the mind of man can conceive and believe, it can achieve.</sq></p>
                        <p>Emphasis: <em>very important</em></p>
                        <p>Alert: <alert>do not</alert> do it</p>
                        <p>Verbatim: code, <c>with special characters: a * , a \, and a #</c></p>
                        <!-- uncomment next to test, will not activate generally in sample document -->
                        <!-- <p>Verbatim: code, <c>with banned substring: [|</c></p>                -->
                        <pre>
                            Some pre-formatted text
                                        with an indented line
                        and an out-dented line
                        </pre>

                        <p>Some of <latex />'s special characters:</p>
                        <p><hash /></p>
                        <p><dollar /></p>
                        <p><percent /></p>
                        <p><circumflex /></p>
                        <p><ampersand /></p>
                        <p><underscore /></p>
                        <p><lbrace /></p>
                        <p><rbrace /></p>
                        <p><tilde /></p>
                        <p><backslash /></p>

                        <p>Some characters that need special handling for PG conversion to HTML or <latex />:</p>

                        <p>A non<nbsp />breaking space (invisble where a hyphen should be)</p>
                        <p>An ndash<ndash />right here.</p>
                        <p>An mdash<mdash />right here.</p>

                    </statement>
                </webwork>
            </exercise>

        </section>

        <section>
            <title>Multiple Choice</title>

            <p>While free-response questions are generally preferred, sometimes the nature of a question lends itself to multiple choice.</p>

            <exercise>
                <title>Drop down (aka Popup)</title>

                <statement>
                    <p>Note also that the solution to this problem uses an external link.</p>
                </statement>

                <webwork>

                    <setup>
                        <var name="$rational">
                            <elements>
                                <element>is</element>
                                <element correct="yes">is not</element>
                            </elements>
                        </var>

                        <pg-code>
                            $rational = PopUp(
                                ["?","is","is not",],
                                "is not",
                            );

                        </pg-code>
                    </setup>

                    <statement>
                        <p>The number <m>\sqrt{2}</m> <answer var="$rational" format="popup"/> rational.</p>

                    </statement>

                    <solution>
                        <p>If <m>\sqrt{2}</m> were rational, then <m>\sqrt{2}=\frac{p}{q}</m>, with <m>p</m> and <m>q</m> coprime. But then <m>2q^2=p^2</m>. By <url href="https://en.wikipedia.org/wiki/Fundamental_theorem_of_arithmetic#Canonical_representation_of_a_positive_integer">the Fundamental Theorem of Arithmetic</url>, the power of <m>2</m> dividing the left side is odd, while the power of <m>2</m> dividing the right side is even. This is a contradiction, so <m>\sqrt{2}</m> <var name="$rational"/> rational.</p>
                    </solution>

                </webwork>
            </exercise>

            <exercise>
                <title>Choose one</title>

                <webwork>

                    <setup>
                        <var name="$theorem">
                            <elements>
                                <element>The Quadratic Formula</element>
                                <element correct="yes">The Fundamental Theorem of Calculus</element>
                                <element>The Fundamental Theorem of Arithmetic</element>
                            </elements>
                        </var>

                        <pg-code>
                            $theorem = RadioButtons(
                              ["The Quadratic Formula","The Fundamental Theorem of Calculus","The Fundamental Theorem of Arithmetic","None of these"],
                              "The Fundamental Theorem of Calculus", # correct answer
                              last => ["None of these"], # can be a list
                            );

                        </pg-code>
                    </setup>

                    <statement>
                        <p>Which of the following suggest that differentiation and integration are inverse processes?</p>
                        <p><answer var="$theorem" format="buttons"/></p>

                    </statement>

                    <solution>
                        <p>The correct answer is <var name="$theorem"/>.</p>
                    </solution>

                </webwork>
            </exercise>

            <!--Checkboxes not yet implemented fully. See note in webwork-pg.xsl -->
            <!--<exercise>
                <title>Choose several</title>

                <webwork>

                    <setup>
                        <var name="$expressions">
                            <elements>
                                <element correct="yes"><m>e^{x^2}e^{1/x}</m></element>
                                <element><m>\frac{e^{x^2}}{e^x}</m></element>
                                <element correct="yes"><m>e^{x^2}e^{x^{-1}}</m></element>
                                <element correct="yes"><m>e^{(x^3+1)/x}</m></element>
                                <element><m>e^{x^2}+e^{1/x}</m></element>
                                <element>None of the above</element>
                            </elements>
                        </var>

                        <pg-code>
                            $expressions = new_checkbox_multiple_choice();
                            $expressions -> qa (
                            "A question can go here, but MBX ignores this",
                            "\( e^{x^2} e^{1/x} \)$BR",
                            "\( e^{x^2} e^{x^{-1}} \)$BR",
                            "\( e^{ (x^3+1) / x } \)$BR",
                            );
                            $expressions -> extra(
                            "\( \displaystyle \frac{ e^{x^2} }{ e^x } \)$BR",
                            "\( e^{x^2} + e^{1/x} \)$BR",
                            );
                            $expressions -> makeLast("None of the above");

                        </pg-code>
                    </setup>

                    <statement>
                        <p>Select all expressions that are equivalent to <m>e^{x^2 + 1/x}</m>.  There may be more than one correct answer.</p>
                        <p><answer var="$expressions" format="checkboxes"/></p>
                    </statement>

                    <solution>
                        <p>The correct answer is <var name="$expressions"/>.</p>
                    </solution>

                </webwork>
            </exercise>-->

        </section>
        <section>
            <title>Tables</title>

            <p>Tables can be made using the existing syntax and options that MBX offers for table making, with a few exceptions. As of summer 2015, the exceptions are that individual cells cannot have <c>bottom</c> border attributes and individual columns cannot have <c>top</c> border attributes. Also, while MBX table borders are generally <c>minor</c>, <c>medium</c>, or <c>major</c>, when these borders are used in a <wbwk /> problem that is rendered as a hard copy problem from within <wbwk />, the only thickness option corresponds to <c>minor</c>.</p>

            <exercise>
                <title>Complete this Table</title>

                <webwork>
                    <setup>
                        <var name="$a1" category="integer">
                            <static>2</static>
                        </var>
                        <var name="$a2" category="integer">
                            <static>4</static>
                        </var>
                        <var name="$b1" category="integer">
                            <static>5</static>
                        </var>
                        <var name="$b2" category="integer">
                            <static>7</static>
                        </var>
                        <var name="$p11" category="integer">
                            <static>10</static>
                        </var>
                        <var name="$p12" category="integer">
                            <static>14</static>
                        </var>
                        <var name="$p21" category="integer">
                            <static>20</static>
                        </var>
                        <var name="$p22" category="integer">
                            <static>28</static>
                        </var>

                        <pg-code>
                            $a1 = random(2,9,1);
                            $a2 = random(2,9,1);
                            $b1 = random(2,9,1);
                            $b2 = random(2,9,1);
                            $p11 = $a1*$b1;
                            $p12 = $a1*$b2;
                            $p21 = $a2*$b1;
                            $p22 = $a2*$b2;
                        </pg-code>
                    </setup>

                    <statement>
                        <p>Complete this multiplication table.</p>

                        <table>
                            <tabular bottom="minor" right="minor" halign="center">
                                <col halign="right" right="major"/>
                                <col />
                                <col />
                                <row bottom="major">
                                    <cell><m>\times</m></cell>
                                    <cell><m><var name="$a1"/></m></cell>
                                    <cell><m><var name="$a2"/></m></cell>
                                </row>
                                <row>
                                    <cell><m><var name="$b1"/></m></cell>
                                    <cell><answer var="$p11" format="none"/></cell>
                                    <cell><answer var="$p21" format="none"/></cell>
                                </row>
                                <row>
                                    <cell><m><var name="$b2"/></m></cell>
                                    <cell><answer var="$p12" format="none"/></cell>
                                    <cell><answer var="$p22" format="none"/></cell>
                                </row>
                            </tabular>
                        </table>
                    </statement>

                    <solution>
                        <table>
                            <tabular bottom="minor" right="minor" halign="center">
                                <col halign="right" right="major"/>
                                <col />
                                <col />
                                <row bottom="major">
                                    <cell><m>\times</m></cell>
                                    <cell><m><var name="$a1"/></m></cell>
                                    <cell><m><var name="$a2"/></m></cell>
                                </row>
                                <row>
                                    <cell><m><var name="$b1"/></m></cell>
                                    <cell><m><var name="$p11"/></m></cell>
                                    <cell><m><var name="$p21"/></m></cell>
                                </row>
                                <row>
                                    <cell><m><var name="$b2"/></m></cell>
                                    <cell><m><var name="$p12"/></m></cell>
                                    <cell><m><var name="$p22"/></m></cell>
                                </row>
                            </tabular>
                        </table>

                    </solution>
                </webwork>

            </exercise>
 
        </section>

        <section>
            <title>Graphics in Exercises</title>
            <p>It is natural to want to write exercises that rely on graphics. For example, an exericse might produce a chart of some kind, and ask the reader to extract some information from that chart.</p>
            <p>At present, this can be done using the same mechanism one would use to insert a graphic into a <wbwk /> problem when writing regular <wbwk /> problems. (And this is what is done below.) In the future, there will be a nicer option that will be able to make use of MBX's <c>latex-image-code</c>. This requires some <wbwk /> development first, which is underway.</p>

            <exercise>
                <title>Solve using a graph</title>

                <webwork>

                    <setup>
                        <var name="$answer" category="number"/>
                        <var name="$second_x" category="number"/>

                        <pg-code>
                            $answer = random(1,3,1);
                            $gr = init_graph(-1,-1,4,4,
                            axes=>[0,0],
                            grid=>[5,5],
                            size=>[400,400]
                            );
                            add_functions($gr, "x^3/$answer^3 for x in &lt;-1,4&gt; using color:blue and weight:2");
                            $second_x = Real($answer*2**(1/3));

                            $solgr = init_graph(-1,-1,4,4,
                            axes=>[0,0],
                            grid=>[5,5],
                            size=>[400,400]
                            );
                            add_functions($solgr, "x^3/$answer^3 for x in &lt;-1,4&gt; using color:blue and weight:2");
                            $solgr->moveTo(0,1);
                            $solgr->lineTo($answer,1,'black',3);
                            $solgr->arrowTo($answer,0,'black',3);

                        </pg-code>
                    </setup>

                    <statement>
                        <p>The graph below is a graph of <m>y=f(x)</m>. Use the graph to solve the equation <m>f(x)=1</m>.</p>

                        <p halign="center"><image pg-name="$gr">
                                <description>a plot of a curve on a cartesian set of axes; the x axis ranges from -1 to 4, and the y-axis ranges from -1 to 4; the curve enters from the left, below the x-axis, and curves upward and to the right until it reaches the point (0,0); from here it continues predominantly rightward for a bit, bending slightly upward more and more as it progresses; it passes through the points (<var name="$answer"/>,1) and (<var name="$second_x"/>,2) before leaving the graph moving more and more upward and to the right.</description>
                        </image></p>

                        <p halign="center"><m>x=</m> <answer var="$answer"/> </p> 

                    </statement>

                    <solution>

                        <p>The graph reveals that the only solution to <m>f(x)=1</m> is <m>x=<var name="$answer"/></m>.</p>

                        <p halign="center"><image pg-name="$solgr">
                                <description>a plot of a curve on a cartesian set of axes; the x axis ranges from -1 to 4, and the y-axis ranges from -1 to 4; the curve enters from the left, below the x-axis, and curves upward and to the right until it reaches the point (0,0); from here it continues predominantly rightward for a bit, bending slightly upward more and more as it progresses; it passes through the points ($answer,1) and ($second_x,2) before leaving the graph moving more and more upward and to the right; a horizontal line segment moves rightward from y=1 on the y-axis until it reaches a point on the curve; a vertical line segment moves down from this point to x=$answer on the x-axis.</description>
                        </image></p>

                    </solution>
            
                </webwork>
            </exercise>

        </section>

    </article>
</mathbook>
